{"timestamp":"2025-09-16 12:36:16.095","level":"ERROR","message":"Failed to get accounts","error":"this.client.getAllAccounts is not a function","stack":"TypeError: this.client.getAllAccounts is not a function\n    at EnhancedMsalClient.getAccounts (file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:353:36)\n    at EnhancedMsalClient.getStats (file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:476:27)\n    at file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:495:29\n    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)","process":{"pid":9716,"version":"v22.17.0","platform":"win32","memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:38:59.854","level":"ERROR","message":"❌ MySQL Database Connection Error:","error":"Access denied for user 'ems_user'@'172.17.0.1' (using password: YES)","host":"localhost","database":"ems_db","retryCount":1,"process":{"pid":12368,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":81}}}
{"timestamp":"2025-09-16 14:40:17.924","level":"ERROR","message":"❌ MySQL Database Connection Error:","error":"Access denied for user 'ems_user'@'172.17.0.1' (using password: YES)","host":"localhost","database":"ems_db","retryCount":1,"process":{"pid":1660,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":80}}}
{"timestamp":"2025-09-16 14:40:17.935","level":"ERROR","message":"Redis connection error: connect ECONNREFUSED 127.0.0.1:6379","errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":6379,"stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)","process":{"pid":1660,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":80}}}
{"timestamp":"2025-09-16 14:41:55.395","level":"ERROR","message":"❌ Database sync error:","error":"Duplicate key name 'user_role_maps_employee_id'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)","process":{"pid":6632,"version":"v22.17.0","platform":"win32","memory":{"used":45,"total":83}}}
{"timestamp":"2025-09-16 14:42:10.433","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":6632,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:42:10.437","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":6632,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:42:10.438","level":"ERROR","message":"BioMetrics Connection Test Failed:","process":{"pid":6632,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:44:08.637","level":"ERROR","message":"❌ Database sync error:","error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)","process":{"pid":13208,"version":"v22.17.0","platform":"win32","memory":{"used":46,"total":83}}}
{"timestamp":"2025-09-16 14:44:31.619","level":"ERROR","message":"❌ Database sync error:","error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)","process":{"pid":6652,"version":"v22.17.0","platform":"win32","memory":{"used":44,"total":83}}}
{"timestamp":"2025-09-16 14:44:46.661","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":6652,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:44:46.663","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":6652,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:44:46.664","level":"ERROR","message":"BioMetrics Connection Test Failed:","process":{"pid":6652,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:46:49.438","level":"ERROR","message":"❌ Database sync error:","error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)","process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":46,"total":84}}}
{"timestamp":"2025-09-16 14:47:04.467","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":41,"total":45}}}
{"timestamp":"2025-09-16 14:47:04.469","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":45}}}
{"timestamp":"2025-09-16 14:47:04.470","level":"ERROR","message":"BioMetrics Connection Test Failed:","process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":45}}}
{"timestamp":"2025-09-16 14:47:26.408","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":46}}}
{"timestamp":"2025-09-16 14:47:26.409","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":18212,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":46}}}
{"timestamp":"2025-09-16 14:49:54.801","level":"ERROR","message":"❌ Database sync error:","error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)","process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":44,"total":83}}}
{"timestamp":"2025-09-16 14:50:09.832","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:50:09.834","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:50:09.835","level":"ERROR","message":"BioMetrics Connection Test Failed:","process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":42,"total":44}}}
{"timestamp":"2025-09-16 14:50:39.133","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)","process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":43,"total":45}}}
{"timestamp":"2025-09-16 14:50:39.136","level":"ERROR","message":"BioMetrics Query Error:","query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[],"process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":43,"total":45}}}
{"timestamp":"2025-09-16 14:50:39.137","level":"ERROR","message":"BioMetrics Connection Test Failed:","process":{"pid":5248,"version":"v22.17.0","platform":"win32","memory":{"used":43,"total":45}}}
