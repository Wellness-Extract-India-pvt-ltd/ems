{"timestamp":"2025-09-19 09:55:01.849","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 09:55:01.852","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 09:55:02.964","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 09:55:02.967","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.6354853,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 09:55:03.042","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 09:55:03.071","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 09:55:03.233","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 09:55:03.237","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 09:55:03.367","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":129,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 09:55:04.292","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 09:55:04.293","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 09:55:04.298","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 09:55:04.299","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 09:55:04.861","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 09:55:04.932","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 09:56:37.723","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/login?identifier=WE_IN017"}
{"timestamp":"2025-09-19 09:56:37.788","level":"INFO","message":"Generating auth code URL","securityEvent":{"user":"anonymous","severity":"low"},"identifier":"WE_IN017","email":"sawan@wellnessextract.com","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"],"envRedirectUri":"http://localhost:5000/api/v1/auth/redirect","backendUrl":"http://localhost:5000"}
{"timestamp":"2025-09-19 09:56:37.791","level":"INFO","message":"Generating authorization code URL","securityEvent":{"user":"anonymous","severity":"low"},"scopes":["User.Read"],"redirectUri":"http://localhost:5000/api/v1/auth/redirect","loginHint":"present","prompt":"select_account","correlationId":"eaa6cdfc-180c-4167-abdb-9c229b541639"}
{"timestamp":"2025-09-19 09:56:37.817","level":"INFO","message":"[MSAL] [Fri, 19 Sep 2025 04:26:37 GMT] : [eaa6cdfc-180c-4167-abdb-9c229b541639] : @azure/msal-node@3.7.3 : Info - getAuthCodeUrl called","securityEvent":{"user":"anonymous","severity":"low"},"msalLogLevel":2,"source":"msal-node"}
{"timestamp":"2025-09-19 09:56:37.834","level":"INFO","message":"Authorization code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"correlationId":"eaa6cdfc-180c-4167-abdb-9c229b541639","urlLength":622}
{"timestamp":"2025-09-19 09:56:37.836","level":"INFO","message":"Auth code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"urlLength":622,"redirectUri":"http://localhost:5000/api/v1/auth/redirect","authCodeUrl":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/authorize?client_id=31a9fc3b-6f83-4182-ba3f-323aaf6beba5&scope=User.Read%20openid%20profile%20offline_access&redirect..."}
{"timestamp":"2025-09-19 09:56:37.850","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/login?identifier=WE_IN017","statusCode":302,"duration":"129ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":44}
{"timestamp":"2025-09-19 09:57:01.759","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P82E17oKvwNYLNDRrl2fP20cF1Ykrh8RMOhXJeylSMcUqzvZOivlJPOGaWaxgDcuinsINhfckG_X9r4ofovLQF1GIqMSTgAguV9SCWGu-o0w5mr8LG1wjF_1Cw2lFfk71nMZjUCq9Md1nUHSxlpp6WUStc-QK8B4QWUtJJpIyqxP1mfnt1gpa5Ed0I3PlexdmH4GDdgisGgdKRdyGiBAPwgCRjVo-cE8J5nzpySBaDiz7mIEUbhnc5AetsZZ9ppTPQ3FbRYm5-03KwIBo8IUiGUGvovKqNODW7yqFBNpy59g3D48TnybdCXvbkZcD5w1zxaeyGPW5WHYtQCaIJx6x71vCICmvJ01aiaEzyJJgD2SOq3TVEPex1TquK_JeDbReEPhQFg25pdGBg9xC3Ce1P9ATfjVfsDBQCracLnOkvRoDSFm8VA2bPCHvsMWzUf2_pg-gg1WfZnhJR3dcuayhCXAhn3NHr-aE9ruxuK3w01b7buNnvy9swJDsfyHxcmORd3N3CmONSkgJKV2XiVgslFoRorMc3rbQJC07znnsqLieWfETlc08_VVLii9t4hT38pYWVtuVk-_zMVy3_9p27f4T3uXm-is2LLP9IiBuhc4gQIhcQc8pj3DlPaOY_pNp7Qt_I2z8ZKaBCTRyJth88CksdKvn3pwxxZWIU8wnwAUh-Yxv3EP3aN-epk6G3VDfv5UnvvhunfgLNi7GSLNbq7YyfirYfoDHx8OG4PGRio2c7T7iTIIoi10Vtsf6zXsDcwI2TFfUlUk4s27OVUz9J6RDlquE5IjXo1DCuqQXgKDplgyQTSOz7WY2-k_1FaDDnbqQpHlNl2Qr_d88REZTuyNpGoxr24&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=qgulvwbof1r3r838040wmj&session_state=008c4259-2c68-8141-5c93-17d959121987"}
{"timestamp":"2025-09-19 09:57:01.764","level":"INFO","message":"Attempting to acquire token by authorization code","securityEvent":{"user":"anonymous","severity":"low"},"code":"present","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 09:57:01.766","level":"INFO","message":"Exchanging authorization code for tokens manually","securityEvent":{"user":"anonymous","severity":"low"},"tokenEndpoint":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/token","clientId":"31a9fc3b...","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 09:57:02.667","level":"INFO","message":"Token exchange successful","securityEvent":{"user":"anonymous","severity":"low"},"tokenType":"Bearer","expiresIn":4268,"scope":"email openid profile User.Read"}
{"timestamp":"2025-09-19 09:57:03.464","level":"INFO","message":"Graph API request successful","securityEvent":{"user":"anonymous","severity":"low"},"endpoint":"/me","method":"GET","status":200,"responseSize":637}
{"timestamp":"2025-09-19 09:57:03.466","level":"INFO","message":"Looking up user in database","securityEvent":{"user":"anonymous","severity":"low"},"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","queryConditions":{"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","is_active":true}}
{"timestamp":"2025-09-19 09:57:03.518","level":"INFO","message":"User lookup result","securityEvent":{"user":"anonymous","severity":"low"},"userFound":true,"userId":1,"userEmail":"sawan@wellnessextract.com","userRole":"admin","msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f"}
{"timestamp":"2025-09-19 09:57:03.521","level":"INFO","message":"Creating JWT payload","securityEvent":{"user":"anonymous","severity":"low"},"jwtPayload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1},"userData":{"id":1,"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee_id":1,"employee":1}}
{"timestamp":"2025-09-19 09:57:03.536","level":"INFO","message":"JWT tokens created successfully","securityEvent":{"user":"anonymous","severity":"low"},"jwtTokenLength":336,"refreshTokenLength":137,"payload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1}}
{"timestamp":"2025-09-19 09:57:03.572","level":"INFO","message":"Redirecting to frontend after successful authentication","securityEvent":{"user":"anonymous","severity":"low"},"frontendUrl":"http://localhost:5173","redirectUrl":"http://localhost:5173/auth/redirect?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibXNHcmFwaFVzZXJJZCI6Ijg3ZTIzOWUxLWM4MWQtNDIwMi1hYmEyLTA5MjI0Y2RmNzM4ZiIsImVtYWlsIjoic2F3YW5Ad2VsbG5lc3NleHRyY...","tokenLength":336,"refreshTokenLength":137,"userInfo":{"id":1,"email":"sawan@wellnessextract.com","role":"admin","employeeId":1}}
{"timestamp":"2025-09-19 09:57:03.577","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P82E17oKvwNYLNDRrl2fP20cF1Ykrh8RMOhXJeylSMcUqzvZOivlJPOGaWaxgDcuinsINhfckG_X9r4ofovLQF1GIqMSTgAguV9SCWGu-o0w5mr8LG1wjF_1Cw2lFfk71nMZjUCq9Md1nUHSxlpp6WUStc-QK8B4QWUtJJpIyqxP1mfnt1gpa5Ed0I3PlexdmH4GDdgisGgdKRdyGiBAPwgCRjVo-cE8J5nzpySBaDiz7mIEUbhnc5AetsZZ9ppTPQ3FbRYm5-03KwIBo8IUiGUGvovKqNODW7yqFBNpy59g3D48TnybdCXvbkZcD5w1zxaeyGPW5WHYtQCaIJx6x71vCICmvJ01aiaEzyJJgD2SOq3TVEPex1TquK_JeDbReEPhQFg25pdGBg9xC3Ce1P9ATfjVfsDBQCracLnOkvRoDSFm8VA2bPCHvsMWzUf2_pg-gg1WfZnhJR3dcuayhCXAhn3NHr-aE9ruxuK3w01b7buNnvy9swJDsfyHxcmORd3N3CmONSkgJKV2XiVgslFoRorMc3rbQJC07znnsqLieWfETlc08_VVLii9t4hT38pYWVtuVk-_zMVy3_9p27f4T3uXm-is2LLP9IiBuhc4gQIhcQc8pj3DlPaOY_pNp7Qt_I2z8ZKaBCTRyJth88CksdKvn3pwxxZWIU8wnwAUh-Yxv3EP3aN-epk6G3VDfv5UnvvhunfgLNi7GSLNbq7YyfirYfoDHx8OG4PGRio2c7T7iTIIoi10Vtsf6zXsDcwI2TFfUlUk4s27OVUz9J6RDlquE5IjXo1DCuqQXgKDplgyQTSOz7WY2-k_1FaDDnbqQpHlNl2Qr_d88REZTuyNpGoxr24&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=qgulvwbof1r3r838040wmj&session_state=008c4259-2c68-8141-5c93-17d959121987","statusCode":302,"duration":"1819ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":46}
{"timestamp":"2025-09-19 09:57:08.155","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 09:57:08.173","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 09:57:08.208","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"53ms"}
{"timestamp":"2025-09-19 09:57:08.266","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":200,"duration":"111ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 09:57:08.270","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 09:57:08.282","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 09:57:08.297","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"28ms"}
{"timestamp":"2025-09-19 09:57:08.305","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":304,"duration":"35ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 09:57:21.649","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 09:57:21.676","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 09:57:21.693","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"46ms"}
{"timestamp":"2025-09-19 09:57:21.698","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":304,"duration":"52ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 09:57:21.701","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 09:57:21.715","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 09:57:21.736","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"35ms"}
{"timestamp":"2025-09-19 09:57:21.747","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":304,"duration":"41ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 09:57:31.876","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/test-connection"}
{"timestamp":"2025-09-19 09:57:31.909","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/test-connection"}
{"timestamp":"2025-09-19 09:57:32.480","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 09:57:32.481","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/test-connection","statusCode":200,"responseTime":"605ms"}
{"timestamp":"2025-09-19 09:57:32.483","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/test-connection","statusCode":200,"duration":"607ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 09:57:32.486","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/test-connection"}
{"timestamp":"2025-09-19 09:57:32.500","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/test-connection"}
{"timestamp":"2025-09-19 09:57:32.503","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/employees?limit=1"}
{"timestamp":"2025-09-19 09:57:32.511","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/attendance/summary?startDate=2025-09-19&endDate=2025-09-19"}
{"timestamp":"2025-09-19 09:57:32.525","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/attendance/recent?limit=10"}
{"timestamp":"2025-09-19 09:57:32.540","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/departments"}
{"timestamp":"2025-09-19 09:57:32.552","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/employees"}
{"timestamp":"2025-09-19 09:57:32.564","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/attendance/summary"}
{"timestamp":"2025-09-19 09:57:32.574","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/attendance/recent"}
{"timestamp":"2025-09-19 09:57:32.582","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/departments"}
{"timestamp":"2025-09-19 09:57:32.617","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 09:57:32.618","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/test-connection","statusCode":200,"responseTime":"132ms"}
{"timestamp":"2025-09-19 09:57:32.620","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/test-connection","statusCode":200,"duration":"135ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 09:57:32.641","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT \n        Emp_ID as employeeId,\n        Emp_Code as employeeCode,\n        Emp_Name as f...","error":"Invalid column name 'Emp_Name'.","params":["status","offset","limit"]}
{"timestamp":"2025-09-19 09:57:32.696","level":"ERROR","message":"Error fetching biometric employees: Invalid column name 'Emp_Name'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Status'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":3}},"name":"RequestError","number":207,"lineNumber":3,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'First_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Last_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":7}},"name":"RequestError","number":207,"lineNumber":7,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":8}},"name":"RequestError","number":207,"lineNumber":8,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Position'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":9}},"name":"RequestError","number":207,"lineNumber":9,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Status'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":10}},"name":"RequestError","number":207,"lineNumber":10,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Phone'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":12}},"name":"RequestError","number":207,"lineNumber":12,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Biometric_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":13}},"name":"RequestError","number":207,"lineNumber":13,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Created_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":14}},"name":"RequestError","number":207,"lineNumber":14,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Updated_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: Invalid column name 'Emp_Name'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.698","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/employees?limit=1","statusCode":500,"responseTime":"195ms"}
{"timestamp":"2025-09-19 09:57:32.703","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/employees?limit=1","statusCode":500,"duration":"200ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 09:57:32.721","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/employees?limit=1"}
{"timestamp":"2025-09-19 09:57:32.743","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT \n        e.Emp_ID as employeeId,\n        e.Emp_Code as employeeCode,\n        e.Emp_Nam...","error":"Invalid column name 'Emp_Name'.","params":["startDate","endDate"]}
{"timestamp":"2025-09-19 09:57:32.763","level":"ERROR","message":"Error fetching attendance summary: Invalid column name 'Emp_Name'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":14}},"name":"RequestError","number":207,"lineNumber":14,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":3}},"name":"RequestError","number":207,"lineNumber":3,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":7}},"name":"RequestError","number":207,"lineNumber":7,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Time'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":8}},"name":"RequestError","number":207,"lineNumber":8,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Time'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":9}},"name":"RequestError","number":207,"lineNumber":9,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Work_Hours'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":10}},"name":"RequestError","number":207,"lineNumber":10,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Overtime_Hours'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":11}},"name":"RequestError","number":207,"lineNumber":11,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":12}},"name":"RequestError","number":207,"lineNumber":12,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: Invalid column name 'Emp_Name'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.764","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/attendance/summary?startDate=2025-09-19&endDate=2025-09-19","statusCode":500,"responseTime":"254ms"}
{"timestamp":"2025-09-19 09:57:32.768","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/attendance/summary?startDate=2025-09-19&endDate=2025-09-19","statusCode":500,"duration":"258ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 09:57:32.778","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/employees"}
{"timestamp":"2025-09-19 09:57:32.788","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/attendance/summary?startDate=2025-09-19&endDate=2025-09-19"}
{"timestamp":"2025-09-19 09:57:32.801","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT TOP @limit\n        a.ID as attendanceId,\n        a.Emp_ID as employeeId,\n        e.Emp...","error":"Incorrect syntax near '@limit'.","params":["limit"]}
{"timestamp":"2025-09-19 09:57:32.804","level":"ERROR","message":"Error fetching recent attendance: Incorrect syntax near '@limit'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":102,"state":1,"class":15,"message":"Incorrect syntax near '@limit'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":102,"lineNumber":2,"state":1,"class":15,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[],"stack":"RequestError: Incorrect syntax near '@limit'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.805","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/attendance/recent?limit=10","statusCode":500,"responseTime":"281ms"}
{"timestamp":"2025-09-19 09:57:32.811","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/attendance/recent?limit=10","statusCode":500,"duration":"285ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 09:57:32.817","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/attendance/summary"}
{"timestamp":"2025-09-19 09:57:32.830","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT DISTINCT Department as name, COUNT(*) as employeeCount\n      FROM employees \n      WHE...","error":"ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","params":[]}
{"timestamp":"2025-09-19 09:57:32.837","level":"ERROR","message":"Error fetching departments: ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":145,"state":1,"class":15,"message":"ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":145,"lineNumber":2,"state":1,"class":15,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":207,"lineNumber":2,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: ORDER BY items must appear in the select list if SELECT DISTINCT is specified.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.839","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/departments","statusCode":500,"responseTime":"300ms"}
{"timestamp":"2025-09-19 09:57:32.845","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/departments","statusCode":500,"duration":"304ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 09:57:32.852","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/attendance/recent?limit=10"}
{"timestamp":"2025-09-19 09:57:32.863","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT \n        Emp_ID as employeeId,\n        Emp_Code as employeeCode,\n        Emp_Name as f...","error":"Invalid column name 'Emp_Name'.","params":["status","offset","limit"]}
{"timestamp":"2025-09-19 09:57:32.878","level":"ERROR","message":"Error fetching biometric employees: Invalid column name 'Emp_Name'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Status'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":3}},"name":"RequestError","number":207,"lineNumber":3,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'First_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Last_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":7}},"name":"RequestError","number":207,"lineNumber":7,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":8}},"name":"RequestError","number":207,"lineNumber":8,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Position'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":9}},"name":"RequestError","number":207,"lineNumber":9,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Status'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":10}},"name":"RequestError","number":207,"lineNumber":10,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Phone'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":12}},"name":"RequestError","number":207,"lineNumber":12,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Biometric_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":13}},"name":"RequestError","number":207,"lineNumber":13,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Created_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":14}},"name":"RequestError","number":207,"lineNumber":14,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Updated_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: Invalid column name 'Emp_Name'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.880","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/employees?limit=1","statusCode":500,"responseTime":"159ms"}
{"timestamp":"2025-09-19 09:57:32.884","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/employees?limit=1","statusCode":500,"duration":"163ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 09:57:32.890","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/biometrics/departments"}
{"timestamp":"2025-09-19 09:57:32.898","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/attendance/recent"}
{"timestamp":"2025-09-19 09:57:32.907","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT \n        e.Emp_ID as employeeId,\n        e.Emp_Code as employeeCode,\n        e.Emp_Nam...","error":"Invalid column name 'Emp_Name'.","params":["startDate","endDate"]}
{"timestamp":"2025-09-19 09:57:32.924","level":"ERROR","message":"Error fetching attendance summary: Invalid column name 'Emp_Name'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":18}},"name":"RequestError","number":207,"lineNumber":18,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":14}},"name":"RequestError","number":207,"lineNumber":14,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":15}},"name":"RequestError","number":207,"lineNumber":15,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":17}},"name":"RequestError","number":207,"lineNumber":17,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":3}},"name":"RequestError","number":207,"lineNumber":3,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Code'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Emp_Name'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'ID'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":7}},"name":"RequestError","number":207,"lineNumber":7,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Time'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":8}},"name":"RequestError","number":207,"lineNumber":8,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Time'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":9}},"name":"RequestError","number":207,"lineNumber":9,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Work_Hours'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":10}},"name":"RequestError","number":207,"lineNumber":10,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Overtime_Hours'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":11}},"name":"RequestError","number":207,"lineNumber":11,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Punch_Date'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":12}},"name":"RequestError","number":207,"lineNumber":12,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: Invalid column name 'Emp_Name'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.925","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/attendance/summary?startDate=2025-09-19&endDate=2025-09-19","statusCode":500,"responseTime":"137ms"}
{"timestamp":"2025-09-19 09:57:32.930","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/attendance/summary?startDate=2025-09-19&endDate=2025-09-19","statusCode":500,"duration":"141ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 09:57:32.932","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/departments"}
{"timestamp":"2025-09-19 09:57:32.942","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT TOP @limit\n        a.ID as attendanceId,\n        a.Emp_ID as employeeId,\n        e.Emp...","error":"Incorrect syntax near '@limit'.","params":["limit"]}
{"timestamp":"2025-09-19 09:57:32.945","level":"ERROR","message":"Error fetching recent attendance: Incorrect syntax near '@limit'.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":102,"state":1,"class":15,"message":"Incorrect syntax near '@limit'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":102,"lineNumber":2,"state":1,"class":15,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[],"stack":"RequestError: Incorrect syntax near '@limit'.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.946","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/attendance/recent?limit=10","statusCode":500,"responseTime":"96ms"}
{"timestamp":"2025-09-19 09:57:32.948","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/attendance/recent?limit=10","statusCode":500,"duration":"99ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 09:57:32.954","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"\n      SELECT DISTINCT Department as name, COUNT(*) as employeeCount\n      FROM employees \n      WHE...","error":"ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","params":[]}
{"timestamp":"2025-09-19 09:57:32.961","level":"ERROR","message":"Error fetching departments: ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","securityEvent":{"user":"anonymous","severity":"high"},"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":145,"state":1,"class":15,"message":"ORDER BY items must appear in the select list if SELECT DISTINCT is specified.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":145,"lineNumber":2,"state":1,"class":15,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","precedingErrors":[{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":4}},"name":"RequestError","number":207,"lineNumber":4,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":5}},"name":"RequestError","number":207,"lineNumber":5,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":2}},"name":"RequestError","number":207,"lineNumber":2,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""},{"code":"EREQUEST","originalError":{"info":{"name":"ERROR","handlerName":"onErrorMessage","number":207,"state":1,"class":16,"message":"Invalid column name 'Department'.","serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":"","lineNumber":6}},"name":"RequestError","number":207,"lineNumber":6,"state":1,"class":16,"serverName":"DESKTOP-M56UM1D\\ONTIME2022","procName":""}],"stack":"RequestError: ORDER BY items must appear in the select list if SELECT DISTINCT is specified.\n    at handleError (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\request.js:384:15)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at RequestTokenHandler.onErrorMessage (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\handler.js:284:21)\n    at Readable.<anonymous> (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\token\\token-stream-parser.js:19:33)\n    at Readable.emit (node:events:518:28)\n    at addChunk (node:internal/streams/readable:561:12)\n    at readableAddChunkPushObjectMode (node:internal/streams/readable:538:3)\n    at Readable.push (node:internal/streams/readable:393:5)\n    at nextAsync (node:internal/streams/from:194:22)"}
{"timestamp":"2025-09-19 09:57:32.963","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/departments","statusCode":500,"responseTime":"73ms"}
{"timestamp":"2025-09-19 09:57:32.968","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/departments","statusCode":500,"duration":"77ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 09:57:49.924","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 09:57:49.951","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 09:57:49.954","level":"ERROR","message":"Failed to retrieve user sessions","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"sequelize is not defined"}
{"timestamp":"2025-09-19 09:57:49.957","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":500,"responseTime":"32ms"}
{"timestamp":"2025-09-19 09:57:49.960","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":500,"duration":"35ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 09:57:49.963","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 09:57:49.970","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 09:57:49.972","level":"ERROR","message":"Failed to retrieve user sessions","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"sequelize is not defined"}
{"timestamp":"2025-09-19 09:57:49.974","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":500,"responseTime":"12ms"}
{"timestamp":"2025-09-19 09:57:49.978","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":500,"duration":"15ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 10:01:32.074","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 10:01:32.095","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 10:01:32.096","level":"ERROR","message":"Failed to retrieve user sessions","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"sequelize is not defined"}
{"timestamp":"2025-09-19 10:01:32.096","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":500,"responseTime":"23ms"}
{"timestamp":"2025-09-19 10:01:32.098","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":500,"duration":"24ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 10:07:32.823","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 10:07:32.966","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 10:07:32.971","level":"WARN","message":"Request validation failed","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"medium"},"path":"/send","method":"POST","userId":1,"errorCount":1,"errors":[{"field":"sessionId","message":"Session ID must be a valid UUID","value":"session_1758256642192_06wsomm97","location":"body"}]}
{"timestamp":"2025-09-19 10:07:32.978","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":422,"responseTime":"158ms"}
{"timestamp":"2025-09-19 10:07:32.982","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":422,"duration":"165ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":52}
{"timestamp":"2025-09-19 10:15:31.008","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:15:31.013","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:15:31.719","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 10:15:31.721","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.5773074,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 10:15:31.750","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 10:15:31.767","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 10:15:31.864","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 10:15:31.870","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 10:15:31.952","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":79,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 10:15:32.747","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 10:15:32.748","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:15:32.752","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:15:32.753","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 10:15:32.850","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 10:15:32.911","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 10:26:50.393","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 10:26:50.398","level":"WARN","message":"Authentication failed: No valid authorization header","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"medium"},"path":"/sessions"}
{"timestamp":"2025-09-19 10:26:50.399","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":401,"responseTime":"6ms"}
{"timestamp":"2025-09-19 10:26:50.406","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":401,"duration":"13ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":43}
{"timestamp":"2025-09-19 10:26:50.437","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 10:26:50.438","level":"WARN","message":"Authentication failed: No valid authorization header","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"medium"},"path":"/send"}
{"timestamp":"2025-09-19 10:26:50.439","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":401,"responseTime":"2ms"}
{"timestamp":"2025-09-19 10:26:50.440","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":401,"duration":"3ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":44}
{"timestamp":"2025-09-19 10:28:08.004","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:28:08.010","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:28:09.370","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 10:28:09.374","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":4.2148153,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 10:28:09.447","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 10:28:09.480","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 10:28:09.806","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 10:28:09.856","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 10:28:10.108","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":241,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 10:28:12.019","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 10:28:12.021","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:12.035","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:12.037","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 10:28:12.089","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 10:28:12.148","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 10:28:41.572","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:28:41.578","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:28:42.712","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 10:28:42.718","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":3.3183447,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 10:28:42.833","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 10:28:42.915","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 10:28:43.316","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 10:28:43.334","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 10:28:43.498","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":160,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 10:28:44.994","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 10:28:44.995","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:45.011","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:45.014","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 10:28:45.091","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 10:28:45.173","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 10:28:50.363","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:28:50.371","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:28:51.181","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 10:28:51.183","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.7447984,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 10:28:51.218","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 10:28:51.230","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 10:28:51.339","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 10:28:51.345","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 10:28:51.428","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":82,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 10:28:52.337","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 10:28:52.338","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:52.348","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:28:52.351","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 10:28:52.410","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 10:28:52.472","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 10:29:27.386","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\logs","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:29:27.391","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:30:29.489","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 10:30:29.501","level":"WARN","message":"Authentication failed: Invalid token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/sessions","error":"invalid signature"}
{"timestamp":"2025-09-19 10:30:29.502","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":401,"responseTime":"15ms"}
{"timestamp":"2025-09-19 10:30:29.506","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":401,"duration":"19ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":43}
{"timestamp":"2025-09-19 10:30:29.536","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 10:30:29.540","level":"WARN","message":"Authentication failed: Invalid token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send","error":"invalid signature"}
{"timestamp":"2025-09-19 10:30:29.540","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":401,"responseTime":"5ms"}
{"timestamp":"2025-09-19 10:30:29.547","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":401,"duration":"9ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":44}
{"timestamp":"2025-09-19 10:31:44.797","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 10:31:44.800","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 10:31:45.642","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 10:31:45.645","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.3911341,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 10:31:45.683","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 10:31:45.698","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 10:31:45.831","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 10:31:45.839","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 10:31:46.017","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":175,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 10:31:47.396","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 10:31:47.399","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:31:47.410","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 10:31:47.412","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 10:31:47.472","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 10:31:47.547","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 11:00:49.531","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 11:00:49.537","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/sessions"}
{"timestamp":"2025-09-19 11:00:49.539","level":"ERROR","message":"Failed to retrieve user sessions","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"sequelize is not defined"}
{"timestamp":"2025-09-19 11:00:49.540","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":500,"responseTime":"10ms"}
{"timestamp":"2025-09-19 11:00:49.546","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":500,"duration":"17ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":43}
{"timestamp":"2025-09-19 11:00:49.564","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 11:00:49.565","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send"}
{"timestamp":"2025-09-19 11:00:49.570","level":"WARN","message":"Request validation failed","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"medium"},"path":"/send","method":"POST","userId":1,"errorCount":1,"errors":[{"field":"sessionId","message":"Session ID must be a valid UUID","value":"test_session_123","location":"body"}]}
{"timestamp":"2025-09-19 11:00:49.572","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":422,"responseTime":"8ms"}
{"timestamp":"2025-09-19 11:00:49.573","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":422,"duration":"10ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":44}
{"timestamp":"2025-09-19 12:01:16.999","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:01:17.005","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:01:18.441","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:01:18.443","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":4.5297738,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 12:01:18.508","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:01:18.538","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:01:18.733","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:01:18.742","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:01:18.974","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":226,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:01:20.795","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:01:20.806","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:20.825","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:20.829","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:01:21.412","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:01:21.488","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:01:29.615","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:01:29.622","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:01:30.936","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:01:30.944","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":3.3628949,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 12:01:31.046","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:01:31.071","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:01:31.265","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:01:31.277","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:01:31.487","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":207,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:01:32.524","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:01:32.525","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:32.537","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:32.541","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:01:32.688","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:01:33.776","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:01:55.022","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:01:55.033","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:01:56.602","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:01:56.606","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":3.6207581,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 12:01:56.658","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:01:56.677","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:01:56.845","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:01:56.851","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:01:56.987","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":131,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:01:58.144","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:01:58.146","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:58.163","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:01:58.166","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:01:58.245","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:01:58.314","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:05:10.566","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:05:10.572","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:05:11.789","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:05:11.795","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":3.7505564,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 12:05:11.855","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:05:11.881","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:05:12.091","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:05:12.104","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:05:12.223","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":115,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:05:14.001","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:05:14.008","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:05:14.035","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:05:14.049","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:05:17.311","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:05:20.449","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:05:24.393","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:05:24.396","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:05:25.459","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:05:25.462","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.1073147,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 12:05:25.507","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:05:25.521","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:05:25.631","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:05:25.636","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:05:25.728","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":89,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:05:26.643","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:05:26.644","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:05:26.656","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:05:26.659","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:05:26.731","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:05:26.777","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:08:44.222","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:08:44.227","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:08:44.958","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:08:44.959","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.0056449,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 12:08:44.995","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:08:45.013","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:08:45.122","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:08:45.129","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:08:45.220","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":89,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:08:45.966","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:08:45.968","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:08:45.975","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:08:45.976","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:08:46.033","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:08:46.095","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:39:53.082","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:39:53.084","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:39:54.099","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:39:54.100","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.2801312,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-19 12:39:54.159","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:39:54.177","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:39:54.327","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:39:54.332","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:39:54.578","level":"ERROR","message":"❌ MySQL Database Connection Error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"","host":"localhost","database":"ems_db","retryCount":1}
{"timestamp":"2025-09-19 12:43:59.135","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 12:43:59.138","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 12:43:59.797","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 12:43:59.798","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.5585243,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 12:43:59.822","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 12:43:59.841","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 12:43:59.940","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 12:43:59.946","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 12:44:00.067","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":119,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 12:44:00.833","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 12:44:00.835","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:44:00.843","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 12:44:00.844","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 12:44:01.447","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 12:44:01.508","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 12:44:46.223","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/login?identifier=WE_IN017"}
{"timestamp":"2025-09-19 12:44:46.287","level":"INFO","message":"Generating auth code URL","securityEvent":{"user":"anonymous","severity":"low"},"identifier":"WE_IN017","email":"sawan@wellnessextract.com","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"],"envRedirectUri":"http://localhost:5000/api/v1/auth/redirect","backendUrl":"http://localhost:5000"}
{"timestamp":"2025-09-19 12:44:46.290","level":"INFO","message":"Generating authorization code URL","securityEvent":{"user":"anonymous","severity":"low"},"scopes":["User.Read"],"redirectUri":"http://localhost:5000/api/v1/auth/redirect","loginHint":"present","prompt":"select_account","correlationId":"896805ea-02a1-4939-84cd-2a829f2e9199"}
{"timestamp":"2025-09-19 12:44:46.295","level":"INFO","message":"[MSAL] [Fri, 19 Sep 2025 07:14:46 GMT] : [896805ea-02a1-4939-84cd-2a829f2e9199] : @azure/msal-node@3.7.3 : Info - getAuthCodeUrl called","securityEvent":{"user":"anonymous","severity":"low"},"msalLogLevel":2,"source":"msal-node"}
{"timestamp":"2025-09-19 12:44:46.312","level":"INFO","message":"Authorization code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"correlationId":"896805ea-02a1-4939-84cd-2a829f2e9199","urlLength":623}
{"timestamp":"2025-09-19 12:44:46.314","level":"INFO","message":"Auth code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"urlLength":623,"redirectUri":"http://localhost:5000/api/v1/auth/redirect","authCodeUrl":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/authorize?client_id=31a9fc3b-6f83-4182-ba3f-323aaf6beba5&scope=User.Read%20openid%20profile%20offline_access&redirect..."}
{"timestamp":"2025-09-19 12:44:46.331","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/login?identifier=WE_IN017","statusCode":302,"duration":"111ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":44}
{"timestamp":"2025-09-19 12:45:19.808","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9QLlASDNPs4_Mgk_CNK4T4g4JTrzCXzuThJpBkJcBlAM3qhVHxUDzFbE8WZZ7IkQqialxV7ZM_ZD_5WWWNSb9KtRjcLoEP-Rbbh5BzyX0X6b0yc3C_lxhzILATaaALDocwY_1m3M1CFAW9kDdEeiFRHSi5tvt-eKbQwfl7vqKiYjCSpQ2gxoy-kcdmlR4V97cQnbAatBbg0NtKx47_kvJ47LNepJAJlEHh77Mp_Es9B2WgOYsLQJH5WM4ec_I-bPp9AHp9Uv5mYUnf8qSf0GiFxzWiEKlrEYUIs0BdLN7-IAD75dMGDclbDEwul_-PEuz4fhVq7DmhZWyYEJ3aoE450icdwaM3qeC2SmXLOfk_17RCVPXzbWKHtZ55G41nyRF3UAYbbsFCIIXFBE22S4uYJ6HTf4ssZNG87cBvBI0OzqcHDmdL1n17XTJBRAL4i5VQKgMTWn8RROLtjbt7HgM1vZn_fVFCoEIQhdzFrgmCatkrirNrJTBp-1h5tNkhipBQ2oCUj8XwSW-Ggng2YeN90imCDZhf8rHvD6OJG--bAdkYU6_xSULeBC3xgy0twyvhZB8eDENtP4TsT6RHmTp1brbktPI-N_9yF7BTRhyXcmdZ_lkLAssyOGepedJwhQtfSTdssgHYl0D91R-CDak4VLkuCBh6_lCZzknpGE2Ys319QODUQ17iXo2eCsV3N-lFfRfQgSL7uolsMJe1BZL08-WFuCX0pj3fOCRpR2KmfQrzAyPl94UxoUHsjQBSnobRDhcKZCydslQreSkt7JGCxctOO-pvrYJZbGLvTQvN08g2MbDNct2HZgzK2-fSRogEHB3GJSlet1LbzNO1XlfwdLdePP5OFDqX&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=w08d5vgbnt8hi1a8533p59&session_state=008c4259-55d5-e7c8-a3ab-5bcf6d32fa8c"}
{"timestamp":"2025-09-19 12:45:19.814","level":"INFO","message":"Attempting to acquire token by authorization code","securityEvent":{"user":"anonymous","severity":"low"},"code":"present","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 12:45:19.816","level":"INFO","message":"Exchanging authorization code for tokens manually","securityEvent":{"user":"anonymous","severity":"low"},"tokenEndpoint":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/token","clientId":"31a9fc3b...","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 12:45:20.488","level":"INFO","message":"Token exchange successful","securityEvent":{"user":"anonymous","severity":"low"},"tokenType":"Bearer","expiresIn":3718,"scope":"email openid profile User.Read"}
{"timestamp":"2025-09-19 12:45:21.088","level":"INFO","message":"Graph API request successful","securityEvent":{"user":"anonymous","severity":"low"},"endpoint":"/me","method":"GET","status":200,"responseSize":637}
{"timestamp":"2025-09-19 12:45:21.090","level":"INFO","message":"Looking up user in database","securityEvent":{"user":"anonymous","severity":"low"},"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","queryConditions":{"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","is_active":true}}
{"timestamp":"2025-09-19 12:45:21.173","level":"INFO","message":"User lookup result","securityEvent":{"user":"anonymous","severity":"low"},"userFound":true,"userId":1,"userEmail":"sawan@wellnessextract.com","userRole":"admin","msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f"}
{"timestamp":"2025-09-19 12:45:21.174","level":"INFO","message":"Creating JWT payload","securityEvent":{"user":"anonymous","severity":"low"},"jwtPayload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1},"userData":{"id":1,"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee_id":1,"employee":1}}
{"timestamp":"2025-09-19 12:45:21.184","level":"INFO","message":"JWT tokens created successfully","securityEvent":{"user":"anonymous","severity":"low"},"jwtTokenLength":336,"refreshTokenLength":137,"payload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1}}
{"timestamp":"2025-09-19 12:45:21.212","level":"INFO","message":"Redirecting to frontend after successful authentication","securityEvent":{"user":"anonymous","severity":"low"},"frontendUrl":"http://localhost:5173","redirectUrl":"http://localhost:5173/auth/redirect?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibXNHcmFwaFVzZXJJZCI6Ijg3ZTIzOWUxLWM4MWQtNDIwMi1hYmEyLTA5MjI0Y2RmNzM4ZiIsImVtYWlsIjoic2F3YW5Ad2VsbG5lc3NleHRyY...","tokenLength":336,"refreshTokenLength":137,"userInfo":{"id":1,"email":"sawan@wellnessextract.com","role":"admin","employeeId":1}}
{"timestamp":"2025-09-19 12:45:21.217","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P9QLlASDNPs4_Mgk_CNK4T4g4JTrzCXzuThJpBkJcBlAM3qhVHxUDzFbE8WZZ7IkQqialxV7ZM_ZD_5WWWNSb9KtRjcLoEP-Rbbh5BzyX0X6b0yc3C_lxhzILATaaALDocwY_1m3M1CFAW9kDdEeiFRHSi5tvt-eKbQwfl7vqKiYjCSpQ2gxoy-kcdmlR4V97cQnbAatBbg0NtKx47_kvJ47LNepJAJlEHh77Mp_Es9B2WgOYsLQJH5WM4ec_I-bPp9AHp9Uv5mYUnf8qSf0GiFxzWiEKlrEYUIs0BdLN7-IAD75dMGDclbDEwul_-PEuz4fhVq7DmhZWyYEJ3aoE450icdwaM3qeC2SmXLOfk_17RCVPXzbWKHtZ55G41nyRF3UAYbbsFCIIXFBE22S4uYJ6HTf4ssZNG87cBvBI0OzqcHDmdL1n17XTJBRAL4i5VQKgMTWn8RROLtjbt7HgM1vZn_fVFCoEIQhdzFrgmCatkrirNrJTBp-1h5tNkhipBQ2oCUj8XwSW-Ggng2YeN90imCDZhf8rHvD6OJG--bAdkYU6_xSULeBC3xgy0twyvhZB8eDENtP4TsT6RHmTp1brbktPI-N_9yF7BTRhyXcmdZ_lkLAssyOGepedJwhQtfSTdssgHYl0D91R-CDak4VLkuCBh6_lCZzknpGE2Ys319QODUQ17iXo2eCsV3N-lFfRfQgSL7uolsMJe1BZL08-WFuCX0pj3fOCRpR2KmfQrzAyPl94UxoUHsjQBSnobRDhcKZCydslQreSkt7JGCxctOO-pvrYJZbGLvTQvN08g2MbDNct2HZgzK2-fSRogEHB3GJSlet1LbzNO1XlfwdLdePP5OFDqX&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=w08d5vgbnt8hi1a8533p59&session_state=008c4259-55d5-e7c8-a3ab-5bcf6d32fa8c","statusCode":302,"duration":"1410ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":46}
{"timestamp":"2025-09-19 12:45:27.662","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:45:27.687","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:45:27.704","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"43ms"}
{"timestamp":"2025-09-19 12:45:27.711","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"50ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":46}
{"timestamp":"2025-09-19 12:45:27.713","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:45:27.723","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:45:27.730","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"17ms"}
{"timestamp":"2025-09-19 12:45:27.734","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"21ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 12:45:36.674","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 12:45:36.684","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 12:45:36.709","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":2,"sessionId":"session_1758266127647_qbhsa7p1f","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 12:45:52.454","level":"ERROR","message":"Failed to get or create thread","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758266127647_qbhsa7p1f","error":"notNull Violation: Chat.user_id cannot be null,\nValidation error: Validation isIn on message_type failed"}
{"timestamp":"2025-09-19 12:45:52.456","level":"ERROR","message":"OpenAI Assistant API request failed","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758266127647_qbhsa7p1f","userId":1,"error":"Failed to create conversation thread","responseTime":15746}
{"timestamp":"2025-09-19 12:45:52.457","level":"ERROR","message":"Chat message processing failed","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"AI Assistant is currently unavailable: Failed to create conversation thread"}
{"timestamp":"2025-09-19 12:45:52.458","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":500,"responseTime":"15784ms"}
{"timestamp":"2025-09-19 12:56:30.721","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:56:30.751","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:56:30.766","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"45ms"}
{"timestamp":"2025-09-19 12:56:30.770","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"50ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 12:56:30.772","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:56:30.788","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:56:30.794","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"22ms"}
{"timestamp":"2025-09-19 12:56:30.802","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"29ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 12:56:33.670","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 12:56:33.682","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 12:56:33.710","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"40ms"}
{"timestamp":"2025-09-19 12:56:33.729","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":200,"duration":"59ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 12:56:33.735","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/employees/all"}
{"timestamp":"2025-09-19 12:56:33.749","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/all"}
{"timestamp":"2025-09-19 12:56:33.777","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/all","statusCode":200,"responseTime":"40ms"}
{"timestamp":"2025-09-19 12:56:33.792","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/all","statusCode":304,"duration":"50ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 12:56:35.827","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:56:35.837","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:56:35.843","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"18ms"}
{"timestamp":"2025-09-19 12:56:35.846","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"20ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 12:56:35.849","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:56:35.864","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:56:35.877","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"27ms"}
{"timestamp":"2025-09-19 12:56:35.887","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"31ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 12:59:14.970","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:59:15.017","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:59:15.030","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"58ms"}
{"timestamp":"2025-09-19 12:59:15.047","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"64ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 12:59:15.050","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 12:59:15.064","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 12:59:15.078","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"22ms"}
{"timestamp":"2025-09-19 12:59:15.081","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"32ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 13:30:25.068","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:30:25.103","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:30:25.113","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"44ms"}
{"timestamp":"2025-09-19 13:30:25.120","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"48ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":51}
{"timestamp":"2025-09-19 13:30:25.127","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:30:25.142","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:30:25.147","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"24ms"}
{"timestamp":"2025-09-19 13:30:25.158","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"29ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":51}
{"timestamp":"2025-09-19 13:30:35.147","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:30:35.159","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:30:35.166","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"19ms"}
{"timestamp":"2025-09-19 13:30:35.173","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"25ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 13:30:35.179","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:30:35.193","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:30:35.204","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"23ms"}
{"timestamp":"2025-09-19 13:30:35.207","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"30ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 13:32:29.602","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:32:29.664","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:32:29.675","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"75ms"}
{"timestamp":"2025-09-19 13:32:29.679","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"79ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 13:32:29.681","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:32:29.692","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 13:32:29.698","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"17ms"}
{"timestamp":"2025-09-19 13:32:29.702","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"21ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 13:32:37.270","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 13:32:37.287","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 13:32:37.309","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":3,"sessionId":"session_1758268949564_gd2lqgb5l","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 13:32:38.144","level":"ERROR","message":"Failed to get or create thread","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758268949564_gd2lqgb5l","error":"notNull Violation: Chat.user_id cannot be null,\nValidation error: Validation isIn on message_type failed"}
{"timestamp":"2025-09-19 13:32:38.145","level":"ERROR","message":"OpenAI Assistant API request failed","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758268949564_gd2lqgb5l","userId":1,"error":"Failed to create conversation thread","responseTime":835}
{"timestamp":"2025-09-19 13:32:38.146","level":"ERROR","message":"Chat message processing failed","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"AI Assistant is currently unavailable: Failed to create conversation thread"}
{"timestamp":"2025-09-19 13:32:38.147","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":500,"responseTime":"881ms"}
{"timestamp":"2025-09-19 13:32:38.151","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":500,"duration":"884ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 13:37:38.249","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 13:37:38.252","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/sessions"}
{"timestamp":"2025-09-19 13:37:38.265","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"17ms"}
{"timestamp":"2025-09-19 13:37:38.267","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"19ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":48}
{"timestamp":"2025-09-19 13:37:38.283","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 13:37:38.284","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send"}
{"timestamp":"2025-09-19 13:37:38.297","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":4,"sessionId":"session_1758269258280_1bry4pz8i","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 13:37:39.113","level":"ERROR","message":"Failed to get or create thread","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758269258280_1bry4pz8i","error":"notNull Violation: Chat.user_id cannot be null,\nValidation error: Validation isIn on message_type failed"}
{"timestamp":"2025-09-19 13:37:39.114","level":"ERROR","message":"OpenAI Assistant API request failed","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758269258280_1bry4pz8i","userId":1,"error":"Failed to create conversation thread","responseTime":816}
{"timestamp":"2025-09-19 13:37:39.115","level":"ERROR","message":"Chat message processing failed","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"AI Assistant is currently unavailable: Failed to create conversation thread"}
{"timestamp":"2025-09-19 13:37:39.116","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":500,"responseTime":"833ms"}
{"timestamp":"2025-09-19 13:37:39.118","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":500,"duration":"835ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":49}
{"timestamp":"2025-09-19 14:17:52.824","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 14:17:52.829","level":"WARN","message":"Authentication failed: Token expired","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send","expiredAt":"2025-09-19T08:15:21.000Z"}
{"timestamp":"2025-09-19 14:17:52.834","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":401,"responseTime":"7ms"}
{"timestamp":"2025-09-19 14:17:52.837","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":401,"duration":"14ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 14:56:44.044","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 14:56:44.049","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 14:56:45.050","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 14:56:45.055","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.7495757,"memory":{"used":46,"total":70}}}
{"timestamp":"2025-09-19 14:56:45.112","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 14:56:45.140","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 14:56:45.387","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 14:56:45.398","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 14:56:45.556","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":152,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 14:56:48.008","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 14:56:48.010","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 14:56:48.018","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 14:56:48.021","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 14:56:48.084","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 14:56:48.135","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 14:58:15.291","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 14:58:15.302","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/sessions"}
{"timestamp":"2025-09-19 14:58:15.328","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"38ms"}
{"timestamp":"2025-09-19 14:58:15.335","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"46ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":44}
{"timestamp":"2025-09-19 14:58:15.380","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 14:58:15.386","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send"}
{"timestamp":"2025-09-19 14:58:15.419","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":5,"sessionId":"session_1758274095338_el81dl683","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 14:58:16.227","level":"ERROR","message":"Failed to get or create thread","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758274095338_el81dl683","error":"notNull Violation: Chat.user_id cannot be null,\nValidation error: Validation isIn on message_type failed"}
{"timestamp":"2025-09-19 14:58:16.228","level":"ERROR","message":"OpenAI Assistant API request failed","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758274095338_el81dl683","userId":1,"error":"Failed to create conversation thread","responseTime":808}
{"timestamp":"2025-09-19 14:58:16.229","level":"ERROR","message":"Chat message processing failed","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"AI Assistant is currently unavailable: Failed to create conversation thread"}
{"timestamp":"2025-09-19 14:58:16.230","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":500,"responseTime":"850ms"}
{"timestamp":"2025-09-19 14:58:16.231","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":500,"duration":"853ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":45}
{"timestamp":"2025-09-19 14:59:05.801","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 14:59:05.814","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 14:59:06.830","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 14:59:06.833","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":3.1095729,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 14:59:06.860","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 14:59:06.881","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 14:59:06.996","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 14:59:07.007","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 14:59:07.115","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":105,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 14:59:08.348","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 14:59:08.352","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 14:59:08.361","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 14:59:08.362","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 14:59:08.423","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 14:59:08.475","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
{"timestamp":"2025-09-19 14:59:24.147","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 14:59:24.154","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/sessions"}
{"timestamp":"2025-09-19 14:59:24.188","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"41ms"}
{"timestamp":"2025-09-19 14:59:24.195","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"49ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":51}
{"timestamp":"2025-09-19 14:59:24.225","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"axios/1.12.2","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 14:59:24.228","level":"WARN","message":"Development mode: Using test token","securityEvent":{"user":"anonymous","ip":"::1","severity":"medium"},"path":"/send"}
{"timestamp":"2025-09-19 14:59:24.261","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":6,"sessionId":"session_1758274164205_wfupbk0tv","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 14:59:25.161","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274164205_wfupbk0tv","threadId":"thread_GpqbDPc6Ps2vgncU1d5borq1"}
{"timestamp":"2025-09-19 14:59:31.827","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274164205_wfupbk0tv","userId":1,"threadId":"thread_GpqbDPc6Ps2vgncU1d5borq1","tokensUsed":0,"responseTime":7565}
{"timestamp":"2025-09-19 14:59:31.849","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":8,"sessionId":"session_1758274164205_wfupbk0tv","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 14:59:31.855","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274164205_wfupbk0tv","tokensUsed":0}
{"timestamp":"2025-09-19 14:59:31.856","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"7632ms"}
{"timestamp":"2025-09-19 14:59:31.858","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":200,"duration":"7634ms","ip":"::1","userAgent":"axios/1.12.2"},"memory":45}
{"timestamp":"2025-09-19 15:01:26.511","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/login?identifier=WE_IN017"}
{"timestamp":"2025-09-19 15:01:26.545","level":"INFO","message":"Generating auth code URL","securityEvent":{"user":"anonymous","severity":"low"},"identifier":"WE_IN017","email":"sawan@wellnessextract.com","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"],"envRedirectUri":"http://localhost:5000/api/v1/auth/redirect","backendUrl":"http://localhost:5000"}
{"timestamp":"2025-09-19 15:01:26.548","level":"INFO","message":"Generating authorization code URL","securityEvent":{"user":"anonymous","severity":"low"},"scopes":["User.Read"],"redirectUri":"http://localhost:5000/api/v1/auth/redirect","loginHint":"present","prompt":"select_account","correlationId":"273c672d-beec-4e4b-bec8-4d2523ec800b"}
{"timestamp":"2025-09-19 15:01:26.550","level":"INFO","message":"[MSAL] [Fri, 19 Sep 2025 09:31:26 GMT] : [273c672d-beec-4e4b-bec8-4d2523ec800b] : @azure/msal-node@3.7.3 : Info - getAuthCodeUrl called","securityEvent":{"user":"anonymous","severity":"low"},"msalLogLevel":2,"source":"msal-node"}
{"timestamp":"2025-09-19 15:01:26.562","level":"INFO","message":"Authorization code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"correlationId":"273c672d-beec-4e4b-bec8-4d2523ec800b","urlLength":621}
{"timestamp":"2025-09-19 15:01:26.564","level":"INFO","message":"Auth code URL generated successfully","securityEvent":{"user":"anonymous","severity":"low"},"urlLength":621,"redirectUri":"http://localhost:5000/api/v1/auth/redirect","authCodeUrl":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/authorize?client_id=31a9fc3b-6f83-4182-ba3f-323aaf6beba5&scope=User.Read%20openid%20profile%20offline_access&redirect..."}
{"timestamp":"2025-09-19 15:01:26.568","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/login?identifier=WE_IN017","statusCode":302,"duration":"59ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":46}
{"timestamp":"2025-09-19 15:01:29.767","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/auth/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-oz13d44Dg6eQ9SeJVsYVqvGpzr1PocFxfQ2z7HSdeQaGL0eLqppDqLd8uXUmP1Svuu-AA__9aPf_269kfXGhaqLZHntKEyrdO3FTn0OoaznLKiRYAIeaW6wBieuo3Qr5kvsXizT2ic2irTQ9L5mLgZacOK1_P7JMePi8AqHQDCamcpnyy6226TXwwbxUfUXwSEjlLUrSjDipupmBPCo1XFPvW7W5bnsesnNcmmj81bbFzcsrsE89xc_FSRx9pdW1e02mwQbBb83-1Z9w0b4oSbe-CxQ0Gdk-n1ZreeSlI9Ptdr-lGGGIRe4d8ILMgQoTfd5MGQiuXK_vA6wWhhKtKjVbAwcH3rEIfxl22RFVQP3TTV7HFmuTC-I7lKdUs09aWgCDVFrf792F77-QvIEhA12qPonDDnIeIDCOv_xysSbyzabTR4XdIH5d4efFALVvlC-RaWRYlZt38L9h_TAF3nFY7HAH2Q3lzNiVwLV-d5Qp7-VyP3Wfj_eb-uaAtxDipN6GC2GYD6xhCqfAbrs9Kmx-tGiim4eYRPkRWHwFFGRrA7DttIK4uKBHx1sQzrBxG87xj19I1nSRO4RXT2pzXKjISxAitfmowkjz00dUdoo7YN52chyriBhVE2_0L3hsULImZqfpbQTVB4UgCiHJtpz8nGeZLE-RVUOi6dPUQ5E2ia5L2wixld7DSsNf1AnwaihESXkbzmYS_nPzmqmB8UZ1WKj3lZXeT5ItsvdVvBWwlSlNMrCGyWhcWy58zsjY1Use3pxACc3DBceAhHqPzsWpWZVB_xGYtBT1OYcCjCU7OJQfTHM1hV1QyZEHbhzidU_FkpvPev4OgsYj5sDF_1TzcshAm2UBX&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=s4s669ohjyeqdutav5vjf&session_state=008c4259-55d5-e7c8-a3ab-5bcf6d32fa8c"}
{"timestamp":"2025-09-19 15:01:29.769","level":"INFO","message":"Attempting to acquire token by authorization code","securityEvent":{"user":"anonymous","severity":"low"},"code":"present","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 15:01:29.771","level":"INFO","message":"Exchanging authorization code for tokens manually","securityEvent":{"user":"anonymous","severity":"low"},"tokenEndpoint":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e/oauth2/v2.0/token","clientId":"31a9fc3b...","redirectUri":"http://localhost:5000/api/v1/auth/redirect","scopes":["User.Read"]}
{"timestamp":"2025-09-19 15:01:30.827","level":"INFO","message":"Token exchange successful","securityEvent":{"user":"anonymous","severity":"low"},"tokenType":"Bearer","expiresIn":4546,"scope":"email openid profile User.Read"}
{"timestamp":"2025-09-19 15:01:31.468","level":"INFO","message":"Graph API request successful","securityEvent":{"user":"anonymous","severity":"low"},"endpoint":"/me","method":"GET","status":200,"responseSize":637}
{"timestamp":"2025-09-19 15:01:31.470","level":"INFO","message":"Looking up user in database","securityEvent":{"user":"anonymous","severity":"low"},"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","queryConditions":{"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","is_active":true}}
{"timestamp":"2025-09-19 15:01:31.505","level":"INFO","message":"User lookup result","securityEvent":{"user":"anonymous","severity":"low"},"userFound":true,"userId":1,"userEmail":"sawan@wellnessextract.com","userRole":"admin","msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f"}
{"timestamp":"2025-09-19 15:01:31.506","level":"INFO","message":"Creating JWT payload","securityEvent":{"user":"anonymous","severity":"low"},"jwtPayload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1},"userData":{"id":1,"ms_graph_user_id":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee_id":1,"employee":1}}
{"timestamp":"2025-09-19 15:01:31.525","level":"INFO","message":"JWT tokens created successfully","securityEvent":{"user":"anonymous","severity":"low"},"jwtTokenLength":336,"refreshTokenLength":137,"payload":{"id":1,"msGraphUserId":"87e239e1-c81d-4202-aba2-09224cdf738f","email":"sawan@wellnessextract.com","role":"admin","employee":1}}
{"timestamp":"2025-09-19 15:01:31.549","level":"INFO","message":"Redirecting to frontend after successful authentication","securityEvent":{"user":"anonymous","severity":"low"},"frontendUrl":"http://localhost:5173","redirectUrl":"http://localhost:5173/auth/redirect?token=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6MSwibXNHcmFwaFVzZXJJZCI6Ijg3ZTIzOWUxLWM4MWQtNDIwMi1hYmEyLTA5MjI0Y2RmNzM4ZiIsImVtYWlsIjoic2F3YW5Ad2VsbG5lc3NleHRyY...","tokenLength":336,"refreshTokenLength":137,"userInfo":{"id":1,"email":"sawan@wellnessextract.com","role":"admin","employeeId":1}}
{"timestamp":"2025-09-19 15:01:31.552","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/redirect?code=1.AWEBgZc5Zpi2I0um3ZXAy26TTjv8qTGDb4JBuj8yOq9r66VhAQBhAQ.AgABBAIAAABVrSpeuWamRam2jAF1XRQEAwDs_wUA9P-oz13d44Dg6eQ9SeJVsYVqvGpzr1PocFxfQ2z7HSdeQaGL0eLqppDqLd8uXUmP1Svuu-AA__9aPf_269kfXGhaqLZHntKEyrdO3FTn0OoaznLKiRYAIeaW6wBieuo3Qr5kvsXizT2ic2irTQ9L5mLgZacOK1_P7JMePi8AqHQDCamcpnyy6226TXwwbxUfUXwSEjlLUrSjDipupmBPCo1XFPvW7W5bnsesnNcmmj81bbFzcsrsE89xc_FSRx9pdW1e02mwQbBb83-1Z9w0b4oSbe-CxQ0Gdk-n1ZreeSlI9Ptdr-lGGGIRe4d8ILMgQoTfd5MGQiuXK_vA6wWhhKtKjVbAwcH3rEIfxl22RFVQP3TTV7HFmuTC-I7lKdUs09aWgCDVFrf792F77-QvIEhA12qPonDDnIeIDCOv_xysSbyzabTR4XdIH5d4efFALVvlC-RaWRYlZt38L9h_TAF3nFY7HAH2Q3lzNiVwLV-d5Qp7-VyP3Wfj_eb-uaAtxDipN6GC2GYD6xhCqfAbrs9Kmx-tGiim4eYRPkRWHwFFGRrA7DttIK4uKBHx1sQzrBxG87xj19I1nSRO4RXT2pzXKjISxAitfmowkjz00dUdoo7YN52chyriBhVE2_0L3hsULImZqfpbQTVB4UgCiHJtpz8nGeZLE-RVUOi6dPUQ5E2ia5L2wixld7DSsNf1AnwaihESXkbzmYS_nPzmqmB8UZ1WKj3lZXeT5ItsvdVvBWwlSlNMrCGyWhcWy58zsjY1Use3pxACc3DBceAhHqPzsWpWZVB_xGYtBT1OYcCjCU7OJQfTHM1hV1QyZEHbhzidU_FkpvPev4OgsYj5sDF_1TzcshAm2UBX&client_info=eyJ1aWQiOiI4N2UyMzllMS1jODFkLTQyMDItYWJhMi0wOTIyNGNkZjczOGYiLCJ1dGlkIjoiNjYzOTk3ODEtYjY5OC00YjIzLWE2ZGQtOTVjMGNiNmU5MzRlIn0&state=s4s669ohjyeqdutav5vjf&session_state=008c4259-55d5-e7c8-a3ab-5bcf6d32fa8c","statusCode":302,"duration":"1786ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 15:01:35.051","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:01:35.068","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:01:35.079","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"29ms"}
{"timestamp":"2025-09-19 15:01:35.082","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"33ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 15:01:35.084","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:01:35.097","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:01:35.112","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"24ms"}
{"timestamp":"2025-09-19 15:01:35.124","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"30ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:01:46.659","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:01:46.680","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:01:46.699","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":9,"sessionId":"session_1758274295023_yxvav39qm","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:01:47.253","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274295023_yxvav39qm","threadId":"thread_ol1IeUSvF3lcBSSSJx4YWk9d"}
{"timestamp":"2025-09-19 15:01:55.418","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274295023_yxvav39qm","userId":1,"threadId":"thread_ol1IeUSvF3lcBSSSJx4YWk9d","tokensUsed":0,"responseTime":8718}
{"timestamp":"2025-09-19 15:01:55.442","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":11,"sessionId":"session_1758274295023_yxvav39qm","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 15:01:55.448","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274295023_yxvav39qm","tokensUsed":0}
{"timestamp":"2025-09-19 15:01:55.449","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"8791ms"}
{"timestamp":"2025-09-19 15:01:55.451","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":200,"duration":"8793ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 15:04:11.345","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:04:11.380","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:04:11.444","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":12,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:04:12.014","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","threadId":"thread_5tFT9eVSEVRxd3sn4LFDum8n"}
{"timestamp":"2025-09-19 15:04:20.551","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"threadId":"thread_5tFT9eVSEVRxd3sn4LFDum8n","tokensUsed":0,"responseTime":9104}
{"timestamp":"2025-09-19 15:04:20.589","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":14,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 15:04:20.596","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274444570_mqcg9xqi6","tokensUsed":0}
{"timestamp":"2025-09-19 15:04:20.598","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"9254ms"}
{"timestamp":"2025-09-19 15:04:20.607","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":200,"duration":"9261ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":50}
{"timestamp":"2025-09-19 15:05:46.036","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:05:46.074","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:05:46.130","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":15,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:05:47.286","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","threadId":"thread_9Oq1bLVNDAB3L1ksnV1Wg5mj"}
{"timestamp":"2025-09-19 15:05:52.665","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"threadId":"thread_9Oq1bLVNDAB3L1ksnV1Wg5mj","tokensUsed":0,"responseTime":6532}
{"timestamp":"2025-09-19 15:05:52.726","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":17,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 15:05:52.742","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274444570_mqcg9xqi6","tokensUsed":0}
{"timestamp":"2025-09-19 15:05:52.749","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"6709ms"}
{"timestamp":"2025-09-19 15:05:52.773","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":200,"duration":"6725ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":51}
{"timestamp":"2025-09-19 15:06:06.679","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:06:06.708","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:06:06.769","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":18,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:06:07.885","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","threadId":"thread_j92hxW3e2Q2qIShOYlaZvT8S"}
{"timestamp":"2025-09-19 15:06:12.175","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"threadId":"thread_j92hxW3e2Q2qIShOYlaZvT8S","tokensUsed":0,"responseTime":5403}
{"timestamp":"2025-09-19 15:06:12.230","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":20,"sessionId":"session_1758274444570_mqcg9xqi6","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 15:06:12.236","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274444570_mqcg9xqi6","tokensUsed":0}
{"timestamp":"2025-09-19 15:06:12.238","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"5559ms"}
{"timestamp":"2025-09-19 15:06:12.244","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"POST","url":"/send","statusCode":200,"duration":"5563ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":52}
{"timestamp":"2025-09-19 15:06:56.440","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:06:56.465","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:06:56.473","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"33ms"}
{"timestamp":"2025-09-19 15:06:56.481","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":200,"duration":"41ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":52}
{"timestamp":"2025-09-19 15:06:56.492","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:06:56.513","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:06:56.534","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"43ms"}
{"timestamp":"2025-09-19 15:06:56.543","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"52ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":53}
{"timestamp":"2025-09-19 15:08:37.778","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:37.805","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:37.813","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"36ms"}
{"timestamp":"2025-09-19 15:08:37.817","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"40ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":47}
{"timestamp":"2025-09-19 15:08:37.820","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:37.831","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:37.837","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"17ms"}
{"timestamp":"2025-09-19 15:08:37.841","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"20ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:08:45.514","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:45.524","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:45.529","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"16ms"}
{"timestamp":"2025-09-19 15:08:45.533","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"19ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:08:45.536","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:45.545","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:45.551","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"15ms"}
{"timestamp":"2025-09-19 15:08:45.554","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"18ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:08:51.334","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:51.341","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:51.350","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"16ms"}
{"timestamp":"2025-09-19 15:08:51.357","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"20ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:08:51.362","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:08:51.376","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:08:51.384","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"22ms"}
{"timestamp":"2025-09-19 15:08:51.387","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"25ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":48}
{"timestamp":"2025-09-19 15:09:04.720","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:09:04.740","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:09:04.745","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"26ms"}
{"timestamp":"2025-09-19 15:09:04.751","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"29ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 15:09:04.753","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"GET","url":"/chat/sessions"}
{"timestamp":"2025-09-19 15:09:04.765","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/sessions"}
{"timestamp":"2025-09-19 15:09:04.771","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/sessions","statusCode":200,"responseTime":"18ms"}
{"timestamp":"2025-09-19 15:09:04.773","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/sessions","statusCode":304,"duration":"20ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0"},"memory":49}
{"timestamp":"2025-09-19 15:09:13.443","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:09:13.452","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:09:13.515","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":21,"sessionId":"session_1758274744707_ynxmbvr6l","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:09:14.716","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274744707_ynxmbvr6l","threadId":"thread_nJUXMIpIFvsVuMBL8fZXnqTc"}
{"timestamp":"2025-09-19 15:09:24.027","level":"ERROR","message":"OpenAI Assistant API request failed","securityEvent":{"user":"anonymous","severity":"high"},"sessionId":"session_1758274744707_ynxmbvr6l","userId":1,"error":"socket hang up","responseTime":10509}
{"timestamp":"2025-09-19 15:09:24.028","level":"ERROR","message":"Chat message processing failed","securityEvent":{"user":"anonymous","severity":"high"},"userId":1,"error":"AI Assistant is currently unavailable: socket hang up"}
{"timestamp":"2025-09-19 15:09:24.030","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":500,"responseTime":"10588ms"}
{"timestamp":"2025-09-19 15:09:39.779","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/140.0.0.0 Safari/537.36 Edg/140.0.0.0","severity":"low"},"method":"POST","url":"/chat/send"}
{"timestamp":"2025-09-19 15:09:39.804","level":"INFO","message":"Authentication successful","securityEvent":{"user":"anonymous","ip":"::1","severity":"low"},"userId":1,"role":"admin","path":"/send"}
{"timestamp":"2025-09-19 15:09:39.862","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":23,"sessionId":"session_1758274744707_ynxmbvr6l","userId":1,"messageType":"user"}
{"timestamp":"2025-09-19 15:09:40.410","level":"INFO","message":"New thread created for session","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274744707_ynxmbvr6l","threadId":"thread_0WJpVz4Wir5aEPZZFZjVE2nh"}
{"timestamp":"2025-09-19 15:09:50.970","level":"INFO","message":"OpenAI Assistant API request successful","securityEvent":{"user":"anonymous","severity":"low"},"sessionId":"session_1758274744707_ynxmbvr6l","userId":1,"threadId":"thread_0WJpVz4Wir5aEPZZFZjVE2nh","tokensUsed":0,"responseTime":11105}
{"timestamp":"2025-09-19 15:09:51.029","level":"INFO","message":"Message saved successfully","securityEvent":{"user":"anonymous","severity":"low"},"messageId":25,"sessionId":"session_1758274744707_ynxmbvr6l","userId":1,"messageType":"assistant"}
{"timestamp":"2025-09-19 15:09:51.035","level":"INFO","message":"Chat message processed successfully","securityEvent":{"user":"anonymous","severity":"low"},"userId":1,"sessionId":"session_1758274744707_ynxmbvr6l","tokensUsed":0}
{"timestamp":"2025-09-19 15:09:51.036","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"POST","url":"/send","statusCode":200,"responseTime":"11258ms"}
{"timestamp":"2025-09-19 15:13:29.772","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-19 15:13:29.774","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-19 15:13:30.586","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-19 15:13:30.589","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.9411326,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-19 15:13:30.637","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-19 15:13:30.657","level":"INFO","message":"Auth Controller initialized","securityEvent":{"user":"anonymous","severity":"low"},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-19 15:13:30.801","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-19 15:13:30.808","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-19 15:13:30.930","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":119,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-19 15:13:31.709","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-19 15:13:31.711","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 15:13:31.722","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-19 15:13:31.724","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-19 15:13:31.846","level":"INFO","message":"✅ BioMetrics SQL Server Connected","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-19 15:13:31.947","level":"INFO","message":"BioMetrics Connection Test Successful:","securityEvent":{"user":"anonymous","severity":"low"},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
