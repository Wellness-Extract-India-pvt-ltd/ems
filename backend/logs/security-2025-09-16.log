{"timestamp":"2025-09-16 12:36:15.060","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 12:36:15.064","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 12:36:16.093","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 12:36:16.095","level":"ERROR","message":"Failed to get accounts","securityEvent":{"user":"anonymous","severity":"high"},"error":"this.client.getAllAccounts is not a function","stack":"TypeError: this.client.getAllAccounts is not a function\n    at EnhancedMsalClient.getAccounts (file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:353:36)\n    at EnhancedMsalClient.getStats (file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:476:27)\n    at file:///C:/Users/Wellness/Projects/ems/ems/backend/utils/msalConfig.js:495:29\n    at ModuleJob.run (node:internal/modules/esm/module_job:329:25)\n    at async onImport.tracePromise.__proto__ (node:internal/modules/esm/loader:644:26)\n    at async asyncRunEntryPointWithESMLoader (node:internal/modules/run_main:117:5)"}
{"timestamp":"2025-09-16 12:37:38.864","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 12:37:38.867","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 12:37:39.658","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 12:37:39.660","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.8017802,"memory":{"used":45,"total":69}}}
{"timestamp":"2025-09-16 12:37:39.702","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 12:49:14.093","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 12:49:14.097","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 12:49:15.034","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 12:49:15.036","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.3074169,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 12:49:15.078","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 12:52:35.383","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 12:52:35.385","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 12:52:35.902","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 12:52:35.904","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.4745039,"memory":{"used":48,"total":69}}}
{"timestamp":"2025-09-16 12:52:35.947","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:11:20.881","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:11:20.883","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:11:22.014","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:11:22.015","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.5659547,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 14:11:22.053","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:17:22.776","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:17:22.780","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:17:23.503","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:17:23.504","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.5960617,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 14:17:23.532","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:22:21.032","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:22:21.035","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:22:21.491","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:22:21.493","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.3291566,"memory":{"used":48,"total":68}}}
{"timestamp":"2025-09-16 14:22:21.516","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:31:08.286","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:31:08.288","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:31:08.921","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:31:08.925","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.4699555,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 14:31:08.985","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:35:17.170","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:35:17.174","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:35:18.019","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:35:18.022","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.3314692,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:35:18.066","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:35:20.849","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:35:22.093","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:35:45.466","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:35:45.471","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:35:46.601","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:35:46.604","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.7627272,"memory":{"used":45,"total":68}}}
{"timestamp":"2025-09-16 14:35:46.639","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:36:03.253","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:36:03.257","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:36:04.156","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:36:04.159","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.027363,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:36:04.199","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:36:31.087","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:36:31.994","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:36:53.180","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:36:53.187","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:36:53.966","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:36:53.969","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.0912825,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:36:53.999","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:37:15.009","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:37:15.016","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:37:15.859","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:37:15.861","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.1531214,"memory":{"used":48,"total":69}}}
{"timestamp":"2025-09-16 14:37:15.888","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:38:15.433","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:38:16.432","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:38:40.289","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:38:40.293","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:38:41.141","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:38:41.143","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.0955952,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 14:38:41.173","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:38:58.625","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:38:58.635","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:38:59.602","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:38:59.604","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.1911527,"memory":{"used":45,"total":68}}}
{"timestamp":"2025-09-16 14:38:59.630","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:38:59.731","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:38:59.737","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:38:59.855","level":"ERROR","message":"❌ MySQL Database Connection Error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Access denied for user 'ems_user'@'172.17.0.1' (using password: YES)","host":"localhost","database":"ems_db","retryCount":1}
{"timestamp":"2025-09-16 14:40:15.864","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:40:16.844","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:40:17.596","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:40:17.603","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.982888,"memory":{"used":47,"total":68}}}
{"timestamp":"2025-09-16 14:40:17.656","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:40:17.824","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:40:17.834","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:40:17.924","level":"ERROR","message":"❌ MySQL Database Connection Error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Access denied for user 'ems_user'@'172.17.0.1' (using password: YES)","host":"localhost","database":"ems_db","retryCount":1}
{"timestamp":"2025-09-16 14:40:17.935","level":"ERROR","message":"Redis connection error: connect ECONNREFUSED 127.0.0.1:6379","securityEvent":{"user":"anonymous","severity":"high"},"errno":-4078,"code":"ECONNREFUSED","syscall":"connect","address":"127.0.0.1","port":6379,"stack":"Error: connect ECONNREFUSED 127.0.0.1:6379\n    at TCPConnectWrap.afterConnect [as oncomplete] (node:net:1637:16)"}
{"timestamp":"2025-09-16 14:41:10.225","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:41:11.240","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:41:11.988","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:41:11.990","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.0109487,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-16 14:41:12.025","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:41:12.193","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:41:12.206","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:41:12.312","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":103,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:41:12.323","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:41:24.781","level":"INFO","message":"Received SIGINT. Starting graceful shutdown...","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:41:34.795","level":"INFO","message":"Graceful shutdown completed","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:41:53.611","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:41:53.619","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:41:54.545","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:41:54.548","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.5065948,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:41:54.586","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:41:54.748","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:41:54.757","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:41:54.859","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":100,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:41:55.395","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Duplicate key name 'user_role_maps_employee_id'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async MySQLQueryInterface.addIndex (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\abstract\\query-interface.js:250:12)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:999:7)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)"}
{"timestamp":"2025-09-16 14:41:55.397","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:41:55.409","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:41:55.411","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:42:10.433","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:42:10.437","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:42:10.438","level":"ERROR","message":"BioMetrics Connection Test Failed:","securityEvent":{"user":"anonymous","severity":"high"}}
{"timestamp":"2025-09-16 14:44:07.467","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:44:07.473","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:44:08.265","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:44:08.268","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.9409435,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:44:08.306","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:44:08.497","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:44:08.512","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:44:08.597","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":84,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:44:08.638","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)"}
{"timestamp":"2025-09-16 14:44:08.639","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:44:08.645","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:44:08.647","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:44:30.564","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:44:30.570","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:44:31.333","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:44:31.335","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.9175651,"memory":{"used":44,"total":69}}}
{"timestamp":"2025-09-16 14:44:31.364","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:44:31.472","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:44:31.477","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:44:31.578","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":96,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:44:31.619","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)"}
{"timestamp":"2025-09-16 14:44:31.621","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:44:31.631","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:44:31.636","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:44:46.662","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:44:46.664","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:44:46.665","level":"ERROR","message":"BioMetrics Connection Test Failed:","securityEvent":{"user":"anonymous","severity":"high"}}
{"timestamp":"2025-09-16 14:45:17.807","level":"INFO","message":"Received SIGINT. Starting graceful shutdown...","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:46:48.529","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:46:48.533","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:46:49.160","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:46:49.162","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":1.3745759,"memory":{"used":44,"total":68}}}
{"timestamp":"2025-09-16 14:46:49.186","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:46:49.307","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:46:49.319","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:46:49.399","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":77,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:46:49.439","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)"}
{"timestamp":"2025-09-16 14:46:49.441","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:46:49.453","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:46:49.455","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:47:04.467","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:47:04.470","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:47:04.470","level":"ERROR","message":"BioMetrics Connection Test Failed:","securityEvent":{"user":"anonymous","severity":"high"}}
{"timestamp":"2025-09-16 14:47:11.393","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.22621.5909","severity":"low"},"method":"GET","url":"/health"}
{"timestamp":"2025-09-16 14:47:11.396","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:47:11.435","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":37,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:47:26.408","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:47:26.409","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:49:53.646","level":"INFO","message":"Logger initialized","securityEvent":{"user":"anonymous","severity":"low"},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-16 14:49:53.657","level":"INFO","message":"Configuration loaded successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.171","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-16 14:49:54.515","level":"INFO","message":"MSAL Client initialized successfully","securityEvent":{"user":"anonymous","severity":"low"},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-16 14:49:54.517","level":"INFO","message":"Enhanced MSAL client initialized","securityEvent":{"user":"anonymous","severity":"low"},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.0305857,"memory":{"used":45,"total":69}}}
{"timestamp":"2025-09-16 14:49:54.554","level":"INFO","message":"Microsoft Graph Service initialized with token management","securityEvent":{"user":"anonymous","severity":"low"},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-16 14:49:54.667","level":"INFO","message":"Environment validation passed","securityEvent":{"user":"anonymous","severity":"low"},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-16 14:49:54.672","level":"INFO","message":"EMS Backend application configured successfully","securityEvent":{"user":"anonymous","severity":"low"},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-16 14:49:54.766","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":90,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:49:54.802","level":"ERROR","message":"❌ Database sync error:","securityEvent":{"user":"anonymous","severity":"high"},"error":"Failed to open the referenced table 'employees'","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:395:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:133:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:27:9)"}
{"timestamp":"2025-09-16 14:49:54.804","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:49:54.811","level":"INFO","message":"Redis connected successfully","securityEvent":{"user":"anonymous","severity":"low"}}
{"timestamp":"2025-09-16 14:49:54.813","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:50:09.832","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:50:09.835","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:50:09.836","level":"ERROR","message":"BioMetrics Connection Test Failed:","securityEvent":{"user":"anonymous","severity":"high"}}
{"timestamp":"2025-09-16 14:50:24.123","level":"INFO","message":"API Request","securityEvent":{"user":"anonymous","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.22621.5909","severity":"low"},"method":"GET","url":"/health"}
{"timestamp":"2025-09-16 14:50:24.125","level":"INFO","message":"BioMetrics Connection Config:","securityEvent":{"user":"anonymous","severity":"low"},"server":"172.16.1.171","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-16 14:50:24.148","level":"INFO","message":"✅ MySQL Database Connected successfully","securityEvent":{"user":"anonymous","severity":"low"},"responseTime":24,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-16 14:50:39.134","level":"ERROR","message":"❌ BioMetrics SQL Server Connection Error: Failed to connect to 172.16.1.171:1433 in 15000ms","securityEvent":{"user":"anonymous","severity":"high"},"code":"ETIMEOUT","originalError":{"code":"ETIMEOUT"},"name":"ConnectionError","stack":"ConnectionError: Failed to connect to 172.16.1.171:1433 in 15000ms\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\mssql\\lib\\tedious\\connection-pool.js:85:17\n    at Connection.onConnect (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:849:9)\n    at Object.onceWrapper (node:events:633:26)\n    at Connection.emit (node:events:518:28)\n    at Connection.emit (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:970:18)\n    at Connection.connectTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1222:10)\n    at Timeout._onTimeout (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\tedious\\lib\\connection.js:1167:12)\n    at listOnTimeout (node:internal/timers:588:17)\n    at process.processTimers (node:internal/timers:523:7)"}
{"timestamp":"2025-09-16 14:50:39.136","level":"ERROR","message":"BioMetrics Query Error:","securityEvent":{"user":"anonymous","severity":"high"},"query":"SELECT @@VERSION as version, DB_NAME() as database_name...","error":"Failed to connect to 172.16.1.171:1433 in 15000ms","params":[]}
{"timestamp":"2025-09-16 14:50:39.137","level":"ERROR","message":"BioMetrics Connection Test Failed:","securityEvent":{"user":"anonymous","severity":"high"}}
{"timestamp":"2025-09-16 14:50:39.139","level":"INFO","message":"API Response","securityEvent":{"user":"anonymous","severity":"low"},"method":"GET","url":"/health","statusCode":200,"responseTime":"15016ms"}
{"timestamp":"2025-09-16 14:50:39.152","level":"INFO","message":"Performance: Request completed","securityEvent":{"user":"anonymous","severity":"low"},"operation":"Request completed","duration":{"method":"GET","url":"/health","statusCode":200,"duration":"15030ms","ip":"::1","userAgent":"Mozilla/5.0 (Windows NT; Windows NT 10.0; en-IN) WindowsPowerShell/5.1.22621.5909"},"memory":43}
