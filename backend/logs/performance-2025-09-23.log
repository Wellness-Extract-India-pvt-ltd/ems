{"timestamp":"2025-09-23 14:52:09.471","level":"INFO","message":"Logger initialized","performance":{},"directory":"logs","environment":"development","transports":7,"customLevels":["error","warn","info","http","debug","trace"]}
{"timestamp":"2025-09-23 14:52:09.476","level":"INFO","message":"Configuration loaded successfully","performance":{},"environment":"development","port":5000,"database":"ems_db","biometrics":"172.16.1.16","redis":"127.0.0.1","email":"configured"}
{"timestamp":"2025-09-23 14:52:10.482","level":"INFO","message":"MSAL Client initialized successfully","performance":{},"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","redirectUri":"http://localhost:5000/api/v1/auth/redirect","logLevel":3,"cacheLocation":"memory","timeout":30000}
{"timestamp":"2025-09-23 14:52:10.485","level":"INFO","message":"Enhanced MSAL client initialized","performance":{},"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"stats":{"accountsCount":0,"configuration":{"clientId":"31a9fc3b...","tenantId":"66399781-b698-4b23-a6dd-95c0cb6e934e","authority":"https://login.microsoftonline.com/66399781-b698-4b23-a6dd-95c0cb6e934e","scopes":["User.Read","User.ReadBasic.All"],"timeout":30000,"logLevel":3,"cacheLocation":"memory","piiLoggingEnabled":false},"uptime":2.5746726,"memory":{"used":46,"total":69}}}
{"timestamp":"2025-09-23 14:52:10.523","level":"INFO","message":"Microsoft Graph Service initialized with token management","performance":{},"tokenManagementEnabled":true,"cacheEnabled":true,"autoTokenRefresh":true}
{"timestamp":"2025-09-23 14:52:10.546","level":"INFO","message":"Auth Controller initialized","performance":{},"redirectUri":"http://localhost:5000/api/v1/auth/redirect","frontendUrl":"http://localhost:5173","backendUrl":"http://localhost:5000","envRedirectUri":"http://localhost:5000/api/v1/auth/redirect"}
{"timestamp":"2025-09-23 14:52:10.918","level":"INFO","message":"Environment validation passed","performance":{},"nodeEnv":"development","port":"5000"}
{"timestamp":"2025-09-23 14:52:10.937","level":"INFO","message":"EMS Backend application configured successfully","performance":{},"environment":"development","port":"5000","version":"v1"}
{"timestamp":"2025-09-23 14:52:11.094","level":"INFO","message":"✅ MySQL Database Connected successfully","performance":{},"responseTime":148,"host":"localhost","database":"ems_db"}
{"timestamp":"2025-09-23 14:52:12.549","level":"ERROR","message":"❌ Database sync error:","performance":{},"error":"Too many keys specified; max 64 keys allowed","stack":"Error\n    at Query.run (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\dialects\\mysql\\query.js:52:25)\n    at C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:315:28\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async UserRoleMap.sync (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\model.js:984:11)\n    at async Sequelize._syncModelsWithCyclicReferences (C:\\Users\\Wellness\\Projects\\ems\\ems\\backend\\node_modules\\sequelize\\lib\\sequelize.js:398:7)\n    at async syncDatabase (file:///C:/Users/Wellness/Projects/ems/ems/backend/database/connection.js:235:5)\n    at async startServer (file:///C:/Users/Wellness/Projects/ems/ems/backend/index.js:66:9)"}
{"timestamp":"2025-09-23 14:52:12.553","level":"INFO","message":"⚠️ Continuing without database sync due to schema conflicts","performance":{}}
{"timestamp":"2025-09-23 14:52:12.569","level":"INFO","message":"Redis connected successfully","performance":{}}
{"timestamp":"2025-09-23 14:52:12.574","level":"INFO","message":"BioMetrics Connection Config:","performance":{},"server":"172.16.1.16","database":"ONtime_Att","port":1433,"hasUser":true,"hasPassword":true}
{"timestamp":"2025-09-23 14:52:12.734","level":"INFO","message":"✅ BioMetrics SQL Server Connected","performance":{},"server":"172.16.1.16","database":"ONtime_Att"}
{"timestamp":"2025-09-23 14:52:12.788","level":"INFO","message":"BioMetrics Connection Test Successful:","performance":{},"version":"Microsoft SQL Server 2022 (RTM) - 16.0.1000.6 (X64) \n\tOct  8 2022 05:58:25 \n\tCopyright (C) 2022 Microsoft Corporation\n\tExpress Edition (64-bit) on Windows 10 Pro 10.0 <X64> (Build 19045: )\n","database_name":"ONtime_Att"}
